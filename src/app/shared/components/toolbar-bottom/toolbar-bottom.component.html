<!-- Bottom Bar: Glass + Gradient-FAB (Lucide) -->
<nav
  class="fixed inset-x-0 bottom-0 z-50
         border-t border-zinc-200
         bg-zinc-50/95 backdrop-blur
         supports-[backdrop-filter]:bg-zinc-50/90
         shadow-[0_-10px_35px_rgba(0,0,0,0.06)]
         pb-[env(safe-area-inset-bottom)]"
  role="navigation" aria-label="Hauptnavigation">
  <div class="relative mx-auto flex max-w-screen-md items-center justify-between px-3">

    <!-- Menü -->
    <button
      type="button"
      (click)="openMenu()"
      [attr.data-active]="active === 'menu'"
      class="group flex flex-1 flex-col items-center justify-center gap-1 py-3 text-[13px]
             font-medium text-black transition-colors
             data-[active=true]:text-white data-[active=true]:font-semibold
             focus:outline-none focus-visible:ring-2 focus-visible:ring-violet-400/50 rounded-xl">
      <lucide-icon name="menu"
                   class="h-6 w-6 transition group-hover:scale-110
               text-black
               data-[active=true]:text-white"></lucide-icon>
      <span>Menü</span>
      <span aria-hidden="true"
            class="mt-1 h-0.5 w-6 rounded-full bg-gradient-to-r
               from-indigo-500 via-violet-500 to-fuchsia-500
               opacity-0 data-[active=true]:opacity-100 transition"></span>
    </button>

    <!-- Center FAB -->
    <div class="pointer-events-none relative -translate-y-5">
      <button
        type="button"
        (click)="openShoppingCart()"
        aria-label="Warenkorb öffnen"
        class="pointer-events-auto grid h-16 w-16 place-items-center rounded-full
               text-white shadow-xl ring-4 ring-white/60 dark:ring-zinc-900/60
               bg-gradient-to-br from-indigo-600 via-violet-600 to-fuchsia-600
               hover:shadow-2xl transition hover:scale-[1.03] active:scale-95
               focus:outline-none focus-visible:ring-2 focus-visible:ring-fuchsia-300">
        <lucide-icon name="shopping-cart" class="h-7 w-7"></lucide-icon>

        <!-- Badge: Anzahl Items -->
        <ng-container *ngIf="(order.orderItems?.length ?? 0) as count">
          <span *ngIf="count > 0"
                class="absolute -bottom-1.5 right-0 translate-x-2 select-none
                   rounded-full px-2 py-0.5 text-[11px] font-semibold tabular-nums tracking-tight
                   bg-zinc-950/90 text-white ring-1 ring-black/5
                   dark:bg-zinc-100 dark:text-zinc-900">
            {{ count }}
          </span>
        </ng-container>
      </button>
    </div>

    <!-- Bestellungen -->
    <button
      type="button"
      (click)="openOrders()"
      [attr.data-active]="active === 'orders'"
      class="group flex flex-1 flex-col items-center justify-center gap-1 py-3 text-[13px]
         font-medium text-black transition-colors rounded-xl
         data-[active=true]:!text-white data-[active=true]:!font-semibold
         /* optional: leichte Hinterlegung & Ring für Kontrast */
         data-[active=true]:bg-white/10 data-[active=true]:ring-1 data-[active=true]:ring-white/30">
      <lucide-icon name="receipt-text"
                   class="h-6 w-6 transition group-hover:scale-110
               text-black
               data-[active=true]:!text-white
               /* optional: weißer Glow für mehr „Weiß“-Wahrnehmung */
               data-[active=true]:drop-shadow-[0_0_8px_rgba(255,255,255,0.6)]"></lucide-icon>
      <span class="data-[active=true]:!text-white">Bestellungen</span>
      <span aria-hidden="true"
            class="mt-1 h-0.5 w-6 rounded-full bg-gradient-to-r
               from-indigo-500 via-violet-500 to-fuchsia-500
               opacity-0 data-[active=true]:opacity-100 transition"></span>
    </button>


  </div>
</nav>
