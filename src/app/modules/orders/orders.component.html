<header class="border-grey w-full border-b">
  <div class="p-4">
    <h4 class="text-2xl font-medium leading-tight">{{ 'BESTELLUNGEN' | translate }}</h4>
  </div>
  <button mat-mini-fab color="accent" class="absolute top-2 right-2" (click)="navigate()">
    <mat-icon>close</mat-icon>
  </button>
</header>

<ng-container *ngIf="orders$ | async as orders; else loading">
  <mat-accordion class="w-full">
    <mat-expansion-panel [expanded]="true">
      <mat-expansion-panel-header>
        <mat-panel-title>{{ 'DIESE_WOCHE' | translate }}</mat-panel-title>
      </mat-expansion-panel-header>

      <div class="grid grid-cols-2 gap-2">
        <oxp-order *ngFor="let order of ordersLastWeek$ | async" [order]="order" (openOrder)="navigateToOrder(order)"></oxp-order>
      </div>
    </mat-expansion-panel>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>{{ 'AELTER_ALS_DIESE_WOCHE' | translate }}</mat-panel-title>
      </mat-expansion-panel-header>
      <div class="grid grid-cols-2 gap-2">
        <oxp-order *ngFor="let order of ordersOlderThanAWeek$ | async" [order]="order" (openOrder)="navigateToOrder(order)"></oxp-order>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</ng-container>
<ng-template #loading>
  <div class="bg-color flex h-full w-full flex-col justify-center align-middle">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>
