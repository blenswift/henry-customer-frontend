<div class="flex flex-col h-screen overflow-hidden" *ngIf="vm$ | async as vm">
  <oxp-cart-header></oxp-cart-header>
  <oxp-cart-main
    class="h-full flex-1 overflow-y-scroll"
    [products]="vm.items"
    (removeProduct)="removeProduct($event)"
    (paymentTypeChange)="paymentTypeChanged($event)"
    (tipChanged)="tipChanged($event ?? 0)"></oxp-cart-main>
  <footer class="w-full text-center border-t border-grey p-4" *ngIf="vm.items.length > 0">
    <div class="flex">
      <button mat-flat-button class="ml-auto rounded-tl-xl rounded-br-xl" color="primary" (click)="bezahlen(vm)">
        {{ 'ZUR_KASSE' | translate | uppercase }}
        {{ (vm.items | sumOfProducts : vm.tip) / 100 | currency : 'EUR' }}
      </button>
    </div>
  </footer>
</div>
